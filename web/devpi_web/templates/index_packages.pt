<tal:packages condition="packages">
<h2>in-stage latest packages, at least as recent as bases</h2>
<table class="packages">
    <thead>
        <tr>
            <th>Info page</th>
            <th>Releases</th>
            <th>Documentation</th>
        </tr>
    </thead>
    <tbody>
    <tr tal:repeat="package packages">
        <td><a href="${package.info.url}">${package.info.title}</a></td>
        <td>
            <tal:files condition="package.files" repeat="file package.files">
                <tal:file define="toxresults file.get('toxresults', []);
                                  toxresults_state file.get('toxresults_state', None)">
                    <a href="${file.url}">${file.title}</a>
                    <tal:tests condition="toxresults_state is not None">
                        (<a href="${package.make_toxresults_url(basename=file.basename)}" class="${toxresults_state}">tests</a>)
                    </tal:tests>
                    <br tal:condition="not repeat.file.end" />
                </tal:file>
            </tal:files>
        </td>
        <td>
            <a tal:condition="package.docs" href="${package.docs.url}">${package.docs.title}</a>
            <span tal:condition="package.docs">(<a href="${package.docs.zip_url}">Download</a>)</span>
        </td>
    </tr>
    </tbody>
</table>
</tal:packages>
