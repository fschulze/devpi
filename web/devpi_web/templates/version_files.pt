<table class="files">
    <thead>
        <tr>
            <th>File</th>
            <th class="toxresults" tal:condition="show_toxresults">Tox results</th>
            <th>History</th>
        </tr>
    </thead>
    <tbody>
        <tr tal:condition="not files">
            <td colspan="3">No releases</td>
        </tr>
        <tr tal:condition="files" tal:repeat="file files">
            <td title="${file.hash_spec}">
                <a href="${file.url}">${file.title}</a>
                <dl>
                    <tal:size condition="file.size">
                        <dt>Size</dt>
                        <dd>${file.size}</dd>
                    </tal:size>
                    <tal:dist_type condition="file.dist_type">
                        <dt>Type</dt>
                        <dd>${file.dist_type}</dd>
                    </tal:dist_type>
                    <tal:py_version condition="file.py_version">
                        <dt>Python</dt>
                        <dd>${file.py_version}</dd>
                    </tal:py_version>
                </dl>
            </td>
            <td class="toxresults" tal:condition="show_toxresults">
                <tal:toxresults condition="file.get('toxresults')">
                    <div tal:repeat="toxresult file.get('toxresults')">
                        <a href="${make_toxresult_url(basename=file.basename, toxresult=toxresult.basename, _anchor=toxresult._key)}" tal:attributes="class toxresult.status">
                            ${toxresult.host} ${toxresult.platform} ${toxresult.envname} ${toxresult.get('pyversion')}
                        </a>
                    </div>
                    <a href="${make_toxresults_url(basename=file.basename)}">
                        All toxresults â€¦
                    </a>
                </tal:toxresults>
            </td>
            <td>
                <ul class="file_history">
                    <li tal:repeat="log file.history">
                        ${log.what}
                        <tal:src condition="log.get('src')">
                            from
                            <a tal:omit-tag="not log.src.href" href="${log.src.href}">
                                ${log.src.title}
                            </a>
                        </tal:src>
                        <tal:dst condition="log.get('dst')">
                            to
                            <a tal:omit-tag="not log.dst.href" href="${log.dst.href}">
                                ${log.dst.title}
                            </a>
                        </tal:dst>
                        <tal:by condition="log.get('who')">
                            by ${log.who}
                        </tal:by>
                        <tal:count condition="log.get('count')">
                            ${log.count} time(s)
                        </tal:count>
                        <span tal:condition="log.get('when')" class="timestamp">${log.when}</span>
                    </li>
                </ul>
            </td>
        </tr>
    </tbody>
</table>
